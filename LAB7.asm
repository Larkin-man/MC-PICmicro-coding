#include<p16f84.inc>
 ORG 0
 GOTO BEGIN
 ORG 100h
BEGIN

 D1 EQU 0Ch
 D2 EQU 0Dh 
 REG EQU 0Eh

 BCF STATUS,RP0
 CLRF PORTB
 MOVLW B'00000000'
 BSF STATUS,RP0
 MOVWF TRISB
 BCF STATUS,RP0

 MOVLW 01h
 MOVWF PORTB
 M1
 MOVLW 08h
 MOVWF REG
 
 LOOP
 CALL ZZZ
 BSF STATUS,0
 DECFSZ REG,1
 BCF STATUS,0
 RLF PORTB
 MOVLW 01h
 XORWF PORTB,0
 BTFSC STATUS,Z
 GOTO M1
 
 GOTO LOOP

 ZZZ
 MOVLW D'255'
 MOVWF D2
 LOOP1
 MOVLW D'255'
 MOVWF D1
 LOOP2
 DECFSZ D1,1
 GOTO LOOP2
 DECFSZ D2,1
 GOTO LOOP1
 RETURN

 END
